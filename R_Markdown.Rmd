---
title: "R_Markdown"
author: "Christopher_Zdyrski"
date: "3/13/2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

###Data Summary

#Attributes of fang_et_al_genotypes.txt

This is my R Markdown document to analyze two snp files, combine them and pull out wanted data for further analysis in ggplot2. 

```{r fang_et_al_genotypes}
dim(fang_et_al_genotypes)
```


By inspecting this file I learned that:

The file size is 6.1M.
There are 2783 lines, 2744038 words and 11051939 bytes.
There are 986 columns in this file.

#Attributes of snp_position.txt

```{r snp_position}
dim(snp_position)
```

By inspecting this file I learned that:

The file size is 38K.
There are 983 lines, 13198 words and 82763 bytes.
There are 15 columns in this file.

###Data processing

 # Install & load packages
```{r}
install.packages("tidyverse")
install.packages("ggplot2")
library(ggplot2)
library(tidyr)
library(tidyverse)
```

Seperate out teosinte (ZMPBA, ZMPIL, and ZMPJA) and maize (ZMMIL OR ZMMLR OR ZMMMR )

```{r}

transposed_teosinte <- filter(fang_et_al_genotypes, Group %in% c("ZMPBA", "ZMPIL", "ZMPJA")) %>% 
  select(-JG_OTU, -Group) %>% column_to_rownames(., var = "Sample_ID") %>% 
  t() %>% as.data.frame() %>% rownames_to_column

transposed_maize <- filter(fang_et_al_genotypes, Group %in% c("ZMMIL", "ZMMLR", "ZMMMR")) %>% 
  select(-JG_OTU, -Group) %>% column_to_rownames(., var = "Sample_ID") %>% t() %>%
  as.data.frame() %>% rownames_to_column(., var = "SNP_ID")


```


```{r}
teosinte_no_header <- fang_et_al_genotypes[grep("ZMP", fang_et_al_genotypes$Sample_ID), ]
teosinte_no_header <- fang_et_al_genotypes$ZMP

maize_no_header <- grep("ZMM", fang_et_al_genotypes)

```

Put header of the genotype file into its own file for use later

```{r}
header_file <- head(fang_et_al_genotypes)

```

Add headers to both teosinte and maize genotype files
```{r}
teosinte_with_header <- header_file + teosinte_no_header
maize_with_header <- header_file + mazie_no_header
```

Transpose both genotype files to swap the rows and columns

```{r}
transposed_teosinte_with_header <- t(teosinte_with_header)
transposed_maize_with_header <- t(mazie_with_header)

```

Sort genotpye and snp file based off column 1, "SNP_ID"


Sort genotpye and snp file based off column 1, "SNP_ID"


Join files together to combine the SNP ID and the genotype


###Teosinte Awk out all the 40 files Then use setd to change "?" to "-"

```{r}

```

###Maize Awk out all the 40 files Then use setd to change "?" to "-"

```{r}

```

###Maize Unknown SNPs
Multiple Position SNPs
```{r}

```

###Teosinte Unknown SNPs
Multiple Position SNPs

```{r}

```


##ggplot step
Use pivot longer to neaten up data for ggplot input

```{r}
pivot_longer()

```

Here is my plot

```{r}
ggplot()

```
